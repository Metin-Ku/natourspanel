/*!
 * jQuery Steps v1.1.0 - 09/04/2014
 * Copyright (c) 2014 Rafael Staib (http://www.jquery-steps.com)
 * Licensed under MIT http://www.opensource.org/licenses/MIT
*/ !function(e,t){function n(e,t){var n=e.find(".steps li").eq(t.currentIndex);e.triggerHandler("finishing",[t.currentIndex])?(n.addClass("done").removeClass("error"),e.triggerHandler("finished",[t.currentIndex])):n.addClass("error")}function a(e){var t=e.data("eventNamespace");return null==t&&(t="."+c(e),e.data("eventNamespace",t)),t}function r(e,t){var n=c(e);return e.find("#"+n+q+t)}function i(e,t){var n=c(e);return e.find("#"+n+D+t)}function s(e){return e.data("options")}function o(e){return e.data("state")}function d(e){return e.data("steps")}function l(e,t){var n=d(e);return(0>t||t>=n.length)&&z(E),n[t]}function c(e){var t=e.data("uid");return null==t&&(null==(t=e._id())&&(t="steps-uid-".concat(k),e._id(t)),k++,e.data("uid",t)),t}function u(e,n){if(T("enumType",e),T("keyOrValue",n),"string"==typeof n){var a=e[n];return a===t&&z("The enum key '{0}' does not exist.",n),a}if("number"==typeof n){for(var r in e)if(e[r]===n)return n;z("Invalid enum value '{0}'.",n)}else z("Invalid key or value type.")}function f(e,t,n){var a,r=1;return b(e,t,n,(a=n,a.currentIndex+1))}function p(e,t,n){var a;return b(e,t,n,(a=n).currentIndex-1)}function h(n){var i=e.extend(!0,{},P,n);return this.each(function(){var n,s,o,l,f,p,h,v,b,_,y,A,F=e(this),T={currentIndex:i.startIndex,currentStep:null,stepCount:0,transitionElement:null};F.data("options",i),F.data("state",T),F.data("steps",[]),function n(a,r,i){var s=a.children(r.headerTag),o=a.children(r.bodyTag);s.length>o.length?z(L,"contents"):s.length<o.length&&z(L,"titles");var l=r.startIndex;if(i.stepCount=s.length,r.saveState&&e.cookie){var f=e.cookie(S+c(a)),p=parseInt(f,0);!isNaN(p)&&p<i.stepCount&&(l=p)}i.currentIndex=l,s.each(function(n){var r=e(this),i=o.eq(n),s=i.data("mode"),l=null==s?O.html:u(O,/^\s*$/.test(s)||isNaN(s)?s:parseInt(s,0)),c=l===O.html||i.data("url")===t?"":i.data("url"),f=l!==O.html&&"1"===i.data("loaded"),p=e.extend({},H,{title:r.html(),content:l===O.html?i.html():"",contentUrl:c,contentMode:l,contentLoaded:f});(function e(t,n){d(t).push(n)})(a,p)})}(F,i,T),n=F,s=i,o=T,l='<{0} class="{1}">{2}</{0}>',f=u(B,s.stepsOrientation)===B.vertical?" vertical":"",p=e(l.format(s.contentContainerTag,"wizard__content "+s.clearFixCssClass,n.html())),h=e(l.format(s.stepsContainerTag,"wizard__steps "+s.clearFixCssClass,'<ul role="tablist"></ul>')),v=p.children(s.headerTag),b=p.children(s.bodyTag),n.attr("role","application").empty().append(h).append(p).addClass(s.cssClass+" "+s.clearFixCssClass+f),b.each(function(t){w(n,o,e(this),t)}),v.each(function(t){I(n,s,o,e(this),t)}),$(n,s,o),function e(t,n,a){if(n.enablePagination){var r='<li><a href="#{0}" role="menuitem">{1}</a></li>',i="";n.forceMoveForward||(i+=r.format("previous",n.labels.previous)),i+=r.format("next",n.labels.next),n.enableFinishButton&&(i+=r.format("finish",n.labels.finish)),n.enableCancelButton&&(i+=r.format("cancel",n.labels.cancel)),t.append('<{0} class="wizard__actions {1}"><ul role="menu" aria-label="{2}">{3}</ul></{0}>'.format(n.actionContainerTag,n.clearFixCssClass,n.labels.pagination,i)),x(t,n,a),C(t,n,a)}}(n,s,o),_=F,y=i,A=a(_),_.bind("canceled"+A,y.onCanceled),_.bind("contentLoaded"+A,y.onContentLoaded),_.bind("finishing"+A,y.onFinishing),_.bind("finished"+A,y.onFinished),_.bind("init"+A,y.onInit),_.bind("stepChanging"+A,y.onStepChanging),_.bind("stepChanged"+A,y.onStepChanged),y.enableKeyNavigation&&_.bind("keyup"+A,m),_.find(".wizard__actions a").bind("click"+A,g),i.autoFocus&&0===k&&r(F,i.startIndex).focus(),F.triggerHandler("init",[i.startIndex])})}function v(t,n,a,r,s){(0>r||r>a.stepCount)&&z(E),function e(t,n,a){d(t).splice(n,0,a)}(t,r,s=e.extend({},H,s)),a.currentIndex!==a.stepCount&&a.currentIndex>=r&&(a.currentIndex++,A(t,n,a)),a.stepCount++;var o=t.find(".wizard__content"),l=e("<{0}>{1}</{0}>".format(n.headerTag,s.title)),c=e("<{0}></{0}>".format(n.bodyTag));return(null==s.contentMode||s.contentMode===O.html)&&c.html(s.wizard__content),0===r?o.prepend(c).prepend(l):i(t,r-1).after(c).after(l),w(t,a,c,r),I(t,n,a,l,r),_(t,n,a,r),r===a.currentIndex&&$(t,n,a),x(t,n,a),t}function m(t){var n=e(this),a=s(n),r=o(n);if(a.suppressPaginationOnFocus&&n.find(":focus").is(":input"))return t.preventDefault(),!1;var i={left:37,right:39};t.keyCode===i.left?(t.preventDefault(),p(n,a,r)):t.keyCode===i.right&&(t.preventDefault(),f(n,a,r))}function C(t,n,a){if(a.stepCount>0){var r=a.currentIndex,s=l(t,r);if(!n.enableContentCache||!s.contentLoaded)switch(u(O,s.contentMode)){case O.iframe:t.find(".wizard__content > .body").eq(a.currentIndex).empty().html('<iframe src="'+s.contentUrl+'" frameborder="0" scrolling="no" />').data("loaded","1");break;case O.async:var o=i(t,r)._aria("busy","true").empty().append(y(n.loadingTemplate,{text:n.labels.loading}));e.ajax({url:s.contentUrl,cache:!1}).done(function(e){o.empty().html(e)._aria("busy","false").data("loaded","1"),t.triggerHandler("contentLoaded",[r])})}}}function b(e,t,n,a){var i=n.currentIndex;if(a>=0&&a<n.stepCount&&!(t.forceMoveForward&&a<n.currentIndex)){var s=r(e,a),o=s.parent(),d=o.hasClass("disabled");return o._enableAria(),s.click(),i!==n.currentIndex||!d||(o._enableAria(!1),!1)}return!1}function g(t){t.preventDefault();var a=e(this),r=a.parent().parent().parent().parent(),i=s(r),d=o(r),l=a.attr("href");switch(l.substring(l.lastIndexOf("#")+1)){case"cancel":!function e(t){t.triggerHandler("canceled")}(r);break;case"finish":n(r,d);break;case"next":f(r,i,d);break;case"previous":p(r,i,d)}}function x(e,t,n){if(t.enablePagination){var a=e.find(".wizard__actions a[href$='#finish']").parent(),r=e.find(".wizard__actions a[href$='#next']").parent();!t.forceMoveForward&&e.find(".wizard__actions a[href$='#previous']").parent()._enableAria(n.currentIndex>0),t.enableFinishButton&&t.showFinishButtonAlways?(a._enableAria(n.stepCount>0),r._enableAria(n.stepCount>1&&n.stepCount>n.currentIndex+1)):(a._showAria(t.enableFinishButton&&n.stepCount===n.currentIndex+1),r._showAria(0===n.stepCount||n.stepCount>n.currentIndex+1)._enableAria(n.stepCount>n.currentIndex+1||!t.enableFinishButton))}}function $(t,n,a,i){var s=r(t,a.currentIndex),o=e('<span class="current-info audible">'+n.labels.current+" </span>"),d=t.find(".wizard__content > .title");if(null!=i){var l=r(t,i);l.parent().addClass("done").removeClass("error")._selectAria(!1),d.eq(i).removeClass("current").next(".body").removeClass("current"),o=l.find(".current-info"),s.focus()}s.prepend(o).parent()._selectAria().removeClass("done")._enableAria(),d.eq(a.currentIndex).addClass("current").next(".body").addClass("current")}function _(e,t,n,a){for(var r=c(e),i=a;i<n.stepCount;i++){var s=r+q+i,o=r+D+i,d=r+M+i,l=e.find(".title").eq(i)._id(d);e.find(".wizard__steps a").eq(i)._id(s)._aria("controls",o).attr("href","#"+d).html(y(t.titleTemplate,{index:i+1,title:l.html()})),e.find(".body").eq(i)._id(o)._aria("labelledby",d)}}function w(e,t,n,a){var r=c(e);n._id(r+D+a).attr("role","tabpanel")._aria("labelledby",r+M+a).addClass("body")._showAria(t.currentIndex===a)}function y(e,n){for(var a=e.match(/#([a-z]*)#/gi),r=0;r<a.length;r++){var i=a[r],s=i.substring(1,i.length-1);n[s]===t&&z("The key '{0}' does not exist in the substitute collection!",s),e=e.replace(i,n[s])}return e}function I(t,n,r,i,s){var o=c(t),d=o+M+s,l=t.find(".wizard__steps > ul"),u=y(n.titleTemplate,{index:s+1,title:i.html()}),f=e('<li role="tab"><div class="step-counter">'+(s+1)+'</div><a id="'+(o+q+s)+'" href="#'+d+'" aria-controls="'+(o+D+s)+'">'+u+"</a></li>");f._enableAria(n.enableAllSteps||r.currentIndex>s),r.currentIndex>s&&f.addClass("done"),i._id(d).attr("tabindex","-1").addClass("title"),0===s?l.prepend(f):l.find("li").eq(s-1).after(f),0===s&&l.find("li").removeClass("first").eq(s).addClass("first"),s===r.stepCount-1&&l.find("li").removeClass("last").eq(s).addClass("last"),f.children("a").bind("click"+a(t),F)}function A(t,n,a){n.saveState&&e.cookie&&e.cookie(S+c(t),a.currentIndex)}function F(t){t.preventDefault();var n=e(this),a=n.parent().parent().parent().parent(),i=s(a),d=o(a),l=d.currentIndex;if(n.parent().is(":not(.disabled):not(.current)")){var c=n.attr("href");!function t(n,a,r,i){if((0>i||i>=r.stepCount)&&z(E),!(a.forceMoveForward&&i<r.currentIndex)){var s=r.currentIndex;return n.triggerHandler("stepChanging",[r.currentIndex,i])?(r.currentIndex=i,A(n,a,r),$(n,a,r,s),x(n,a,r),C(n,a,r),function t(n,a,r,i,s,d){var l=n.find(".wizard__content > .body"),c=u(N,a.transitionEffect),f=a.transitionEffectSpeed,p=l.eq(i),h=l.eq(s);switch(c){case N.fade:case N.slide:var v=c===N.fade?"fadeOut":"slideUp",m=c===N.fade?"fadeIn":"slideDown";r.transitionElement=p,h[v](f,function(){var t=e(this)._showAria(!1).parent().parent(),n=o(t);n.transitionElement&&(n.transitionElement[m](f,function(){e(this)._showAria()}).promise().done(d),n.transitionElement=null)});break;case N.slideLeft:var C=h.outerWidth(!0);e.when(h.animate({left:i>s?-C:C},f,function(){e(this)._showAria(!1)}),p.css("left",(i>s?C:-C)+"px")._showAria().animate({left:0},f)).done(d);break;default:e.when(h._showAria(!1),p._showAria()).done(d)}}(n,a,r,i,s,function(){n.triggerHandler("stepChanged",[i,s])})):n.find(".wizard__steps li").eq(s).addClass("error"),!0}}(a,i,d,parseInt(c.substring(c.lastIndexOf("-")+1),0))}return l===d.currentIndex?(r(a,l).focus(),!1):void 0}function z(e){throw arguments.length>1&&(e=e.format(Array.prototype.slice.call(arguments,1))),Error(e)}function T(e,t){null==t&&z("The argument '{0}' is null or undefined.",e)}e.fn.extend({_aria:function(e,t){return this.attr("aria-"+e,t)},_removeAria:function(e){return this.removeAttr("aria-"+e)},_enableAria:function(e){return null==e||e?this.removeClass("disabled")._aria("disabled","false"):this.addClass("disabled")._aria("disabled","true")},_showAria:function(e){return null==e||e?this.show()._aria("hidden","false"):this.hide()._aria("hidden","true")},_selectAria:function(e){return null==e||e?this.addClass("current")._aria("selected","true"):this.removeClass("current")._aria("selected","false")},_id:function(e){return e?this.attr("id",e):this.attr("id")}}),String.prototype.format||(String.prototype.format=function(){for(var t=1===arguments.length&&e.isArray(arguments[0])?arguments[0]:arguments,n=this,a=0;a<t.length;a++){var r=RegExp("\\{"+a+"\\}","gm");n=n.replace(r,t[a])}return n});var k=0,S="jQu3ry_5teps_St@te_",q="-t-",D="-p-",M="-h-",E="Index out of range.",L="One or more corresponding step {0} are missing.";e.fn.steps=function(t){return e.fn.steps[t]?e.fn.steps[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.steps"):h.apply(this,arguments)},e.fn.steps.add=function(e){var t=o(this);return v(this,s(this),t,t.stepCount,e)},e.fn.steps.destroy=function(){var t,n,r,i,o,d;return t=this,n=s(this),r=a(t),t.unbind(r).removeData("uid").removeData("options").removeData("state").removeData("steps").removeData("eventNamespace").find(".wizard__actions a").unbind(r),t.removeClass(n.clearFixCssClass+" vertical"),(i=t.find(".wizard__content > *")).removeData("loaded").removeData("mode").removeData("url"),i.removeAttr("id").removeAttr("role").removeAttr("tabindex").removeAttr("class").removeAttr("style")._removeAria("labelledby")._removeAria("hidden"),t.find(".wizard__content > [data-mode='async'],.wizard__content > [data-mode='iframe']").empty(),o=e('<{0} class="{1}"></{0}>'.format(t.get(0).tagName,t.attr("class"))),null!=(d=t._id())&&""!==d&&o._id(d),o.html(t.find(".wizard__content").html()),t.after(o),t.remove(),o},e.fn.steps.finish=function(){n(this,o(this))},e.fn.steps.getCurrentIndex=function(){return o(this).currentIndex},e.fn.steps.getCurrentStep=function(){return l(this,o(this).currentIndex)},e.fn.steps.getStep=function(e){return l(this,e)},e.fn.steps.insert=function(e,t){return v(this,s(this),o(this),e,t)},e.fn.steps.next=function(){return f(this,s(this),o(this))},e.fn.steps.previous=function(){return p(this,s(this),o(this))},e.fn.steps.remove=function(e){var t,n,a,l,u,f,p;return t=this,n=s(this),a=o(this),!(0>(l=e))&&!(l>=a.stepCount)&&a.currentIndex!==l&&(function e(t,n){d(t).splice(n,1)}(t,l),a.currentIndex>l&&(a.currentIndex--,A(t,n,a)),a.stepCount--,(u=t,f=l,p=c(u),u.find("#"+p+M+f)).remove(),i(t,l).remove(),r(t,l).parent().remove(),0===l&&t.find(".wizard__steps li").first().addClass("first"),l===a.stepCount&&t.find(".wizard__steps li").eq(l).addClass("last"),_(t,n,a,l),x(t,n,a),!0)},e.fn.steps.setStep=function(){throw Error("Not yet implemented!")},e.fn.steps.skip=function(){throw Error("Not yet implemented!")};var O=e.fn.steps.contentMode={html:0,iframe:1,async:2},B=e.fn.steps.stepsOrientation={horizontal:0,vertical:1},N=e.fn.steps.transitionEffect={none:0,fade:1,slide:2,slideLeft:3},H=e.fn.steps.stepModel={title:"",content:"",contentUrl:"",contentMode:O.html,contentLoaded:!1},P=e.fn.steps.defaults={headerTag:"h1",bodyTag:"div",contentContainerTag:"div",actionContainerTag:"div",stepsContainerTag:"div",cssClass:"wizard",clearFixCssClass:"clearfix",stepsOrientation:B.horizontal,titleTemplate:'<span class="number">#index#.</span> #title#',loadingTemplate:'<span class="spinner"></span> #text#',autoFocus:!1,enableAllSteps:!1,enableKeyNavigation:!0,enablePagination:!0,suppressPaginationOnFocus:!0,enableContentCache:!0,enableCancelButton:!1,enableFinishButton:!0,preloadContent:!1,showFinishButtonAlways:!1,forceMoveForward:!1,saveState:!1,startIndex:0,transitionEffect:N.none,transitionEffectSpeed:200,onStepChanging:function(){return!0},onStepChanged:function(){},onCanceled:function(){},onFinishing:function(){return!0},onFinished:function(){},onContentLoaded:function(){},onInit:function(){},labels:{cancel:"Cancel",current:"current step:",pagination:"Pagination",finish:"Finish",next:"Next",previous:"Previous",loading:"Loading ..."}}}(jQuery);